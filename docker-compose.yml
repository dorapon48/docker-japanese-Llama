version: "3.0"
services:
  app:
    container_name: "r_sudo_ELYZA-japanese-Llama-2-7b"
    build:
      context: "."
      dockerfile: ./docker/python/Dockerfile
    volumes:
      - .:/app
      - downloadmodel:/opt/ELYZA-model
      - ggufmodel:/app/model
    tty: true
    ports:
      - 8000:8000
    deploy:
      resources:
        reservations:
          devices:
              - driver: nvidia
                device_ids: ['0']
                capabilities: [gpu]

volumes:
  downloadmodel:
  ggufmodel:
